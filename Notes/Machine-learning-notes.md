# Machine learning Development Notes

## Apr 12 2021

* Machine learning techniques
  * SVM (Support vector machines)
  * Decision trees
  * k-NN
  * Why: all three are used commonly in literature for stress detection, with high accuracy

## May 03 2021

* Literature Review Source 6:
  * Feature extraction techniques
    * Fourier transforms
    * Wavelet transforms
      * Both remove noise and extract important components
* Literature Review Source 2:
  1. Normalisation, Filtering, Feature Extraction
  1. Annotation
  1. Train-test split
  1. Model traning
  1. Test model
  1. Performance evaluation
  * Consider window size: i.e. 120 seconds
* Literature Review Source 13:
  * General characteristics used in data:
    * amplitude, standard deviation, min and max values, RMS and delay between stimulus and response, number of peaks, peak height, rising time, recovery time and position of min and max
  * Signal processing/noise removal
    * Kalman, Butterworth LPF, median, Wiener and wavelet decomposition
* Literature Review Source 16:
  * Sweat glands: eccrince, apocrine and apoeccrine
    * Eccrine glands are related to emotional response and innervated by sympathetic nerves which accompany psychological processes
    * Magnitude of sweating depends on sweat gland density, relative size and output of individual glands
  * SCL: skin conductance level
    * describes overall conductivity of skin over longer time intervals, over of several minutes
  * SCR: skin conductance responses per minute
    * describes frequency of occurrence of skin conductance responses
    * short fluctuations in skin conductance that lasts several seconds
    * usually follows a characteristic pattern of inital, relatively steep rise, short peak and then relatively slower return to baseline
  * S-AMPL: sum of skin conductance response amplitudes per minute
    * accounts for strength of skin conductance responses

## Sept 2 2021

[Photoplethysmographic Time-Domain Heart Rate Measurement Algorithm for Resource-Constrained Wearable Devices and its Implementation](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7146569/)

* Article is a good overview of why to use PPG for detecting heart rate

* PPG: detection of light at the skin surface
  * Skin of wrist is irradiated with single or multicolour light; then reflected light is measured
    * intensity of reflected light depends on absorption of skin, which depends on blood volume supplied to the tissues
    * signal received is related to the current blood supply to vessels near measurement device
  * IR, red or green light used as light source and photodetector receives reflected or transmitted light
  * Common placements are fingertip, wrist, earlobe, forehead, torso, ankle and nose
    * wrist is most convenient, however signal not always strong
  * Too much movement may increase SNR in PPG signal
    * requires signal processing
  * Signal processed in time doman; peaks detection
    * Article suggests processing:
      * Amplifier, ADC, BPF, Peak detetion and then HR calculation
    * Proposed variant AMPD (Automatic Multiscale-based Peak Detection) algorithm
      * Takes a window of values then find the LMS (Local Maxima Scalogram) matrix
        * Looks at a time value and compares it with the next time value
          * If falling edge, then set to 0; else set to 1
      * Find distribution of zeroes and global minimum
        * Given standard deviation = 0, peak is identified
    * After peaks found, filtered
* ECG: inconvenient due to leads; can only be used in certain situtations
  

[An Overview of Heart Rate Variability Metrics and Norms](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5624990/)

* Study reviews perspectivies on viability of short-term (~5min) and ultra-short term (<5mins) HRV, importance of HRV and implications on health and performance

* HRV (heart rate variability) consists of changes in time intervals between consecutive heartbeats (called IBI, interbeat intervals)
  * HRV is the fluctuation in time intervals between adjacent heartbeats
    * indexes neurocardiac function and is generated by heart-brain interactions and dynamic non-linear autonomic nervous system processes
    * reflects regulation of autonomic balance, BP, gas exchange, gut, heart and vascular tone
  * oscillations of healthy heart rate are complex and constantly changing; where the cardiovascular system rapidly adjusts to sudden physical and psychological challenges to homeostasis
    * complex; non-linear
* RMSSD: root mean square of successive differences
  * obtained by first calculating each successive time difference between heartbeats in ms
  * values squared and result is averaged, then square root obtained
  * reflects beat to beat variance in HR; primary time-domain measure used to estimate changes in HRV
    * Related to vagal tone
    * Strongly correlated to HF power (respiratory power, sympathetic nervous system and parasympathetic nervious system)
* Difference in HR max and HR min (non-normalised)
  * Related to RSA (respiratory sinus arrhythmia)
  